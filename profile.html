<link rel="import" href="bower_components/paper-card/paper-card.html">
<link rel="import" href="bower_components/paper-button/paper-button.html">
<link rel="import" href="bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="bower_components/paper-styles/color.html">
<link rel="import" href="bower_components/iron-icons/iron-icons.html">
<link rel="import" href="bower_components/app-route/app-location.html">
<link rel="import" href="bower_components/app-route/app-route.html">

<dom-module id="speaker-profile">
    <template>
        <app-location use-hash-as-path route="{{route}}"></app-location>

        <!-- Two routes, one for the home page, and one for the tabs page. -->
        <app-route route="{{route}}" pattern="/profile/:id" active="{{profileActive}}" data="{{profileData}}"></app-route>
        <style is="custom-style">
            .cafe-header { @apply(--paper-font-headline); }
            .cafe-light { color: var(--paper-grey-600); }
            .cafe-location {
                float: right;
                font-size: 15px;
                vertical-align: middle;
            }
            .cafe-reserve {
                color: white;
                background-color: #C20D10;
            }
            iron-icon.star {
                --iron-icon-width: 16px;
                --iron-icon-height: 16px;
                color: var(--paper-amber-500);
            }
            iron-icon.star:last-of-type { color: var(--paper-grey-500); }
        </style>
        <paper-card image="images/{{_getSpeakerImage(profileData.id)}}" hidden="{{!profileActive}}">
            <div class="card-content">
                <div class="cafe-header">{{_getSpeakerName(profileData.id)}}
                    <div class="cafe-location cafe-light">
                        <!--<paper-button class="cafe-reserve" onclick="window.location='https://gpw2016sl.github.io/#/feedback/1'"><iron-icon icon="check"></iron-icon>Feedback</paper-button>-->
                    </div>
                </div>
                <p>{{_getSpeakerDesignation(profileData.id)}}</p>
                <p class="cafe-light">{{_getSpeakerBrief(profileData.id)}}</p>
            </div>
        </paper-card>
    </template>
    <script>
        (function () {
            Polymer({
                is: 'speaker-profile',
                properties : {
                    agenda : Object,
                    speakers : Object
                },
                _getSpeakerName : function(v) {
                    if (typeof this.speakers != 'undefined') {
                        if (typeof this.speakers.length === 'number') {
                            return this.speakers[v].speakerName;
                        }
                    }
                    return "x";
                },
                _getSpeakerDesignation: function(v) {
                    if (typeof this.speakers != 'undefined') {
                        if (typeof this.speakers.length === 'number') {
                            return this.speakers[v].designation;
                        }
                    }
                    return "x";
                },
                _getSpeakerBrief: function(v) {
                    if (typeof this.speakers != 'undefined') {
                        if (typeof this.speakers.length === 'number') {
                            return this.speakers[v].brief;
                        }
                    }
                    return "x";
                },
                _getSpeakerImage: function(v) {
                    if (typeof this.speakers != 'undefined') {
                        if (typeof this.speakers.length === 'number') {
                            return this.speakers[v].image;
                        }
                    }
                    return "x";
                }
            });
        })();

    </script>
</dom-module>