<link rel="import" href="bower_components/paper-card/paper-card.html">
<link rel="import" href="bower_components/paper-button/paper-button.html">
<link rel="import" href="bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="bower_components/paper-input/paper-textarea.html">
<link rel="import" href="bower_components/paper-styles/color.html">
<link rel="import" href="bower_components/iron-icons/iron-icons.html">
<link rel="import" href="bower_components/app-route/app-location.html">
<link rel="import" href="bower_components/app-route/app-route.html">
<link rel="import" href="bower_components/star-rating/star-rating.html">

<dom-module id="speaker-feedback">
    <template>
        <app-location use-hash-as-path route="{{route}}"></app-location>

        <!-- Two routes, one for the home page, and one for the tabs page. -->
        <app-route route="{{route}}" pattern="/feedback/:id" active="{{feedbackActive}}" data="{{feedbackData}}"></app-route>
        <style is="custom-style">
            .cafe-header { @apply(--paper-font-headline); }
            .cafe-light { color: var(--paper-grey-600); }
            .cafe-location {
                float: right;
                font-size: 15px;
                vertical-align: middle;
            }
            .cafe-reserve {
                color: white;
                background-color: #C20D10;
            }
            iron-icon.star {
                --iron-icon-width: 16px;
                --iron-icon-height: 16px;
                color: var(--paper-amber-500);
            }
            iron-icon.star:last-of-type { color: var(--paper-grey-500); }
            paper-card {
                display: block;
            }
        </style>
        <paper-card image="images/bawankule.jpg" hidden="{{!feedbackActive}}">
            <div class="card-content">
                <div class="cafe-header" id="speechtopic">
                    {{_getSpeechTitle(feedbackData.id)}}
                </div>
                <p id="speaker">{{_getSpeakerNames(feedbackData.id)}}</p>
                <star-rating></star-rating>
                <star-rating></star-rating>
                <star-rating></star-rating>
                <paper-textarea label="Comments" rows="3"></paper-textarea>
            </div>
            <div class="card-actions">
                <paper-button class="cafe-reserve"><iron-icon icon="check" onclick="window.history.back()"></iron-icon> Submit</paper-button>
                <paper-button class="cafe-reserve"><iron-icon icon="cancel" onclick="window.history.back()"></iron-icon> Cancel</paper-button>
            </div>
        </paper-card>
    </template>

    <script>
        (function() {

            var SpeechArray = [{
                "speechTitle": "The Business Case for Creating a Great Workplace by Google",
                "startTime": "",
                "endTime": ""
            }, {
                "speechTitle": "Emerging Practices of Gamification in transforming Employee Experience by KNOLSKAPE",
                "startTime": "",
                "endTime": ""
            }, {
                "speechTitle": "Reinventing HR using disruptive practices By Harvard Business Publishing",
                "startTime": "",
                "endTime": ""
            }, {
                "speechTitle": "Best Workplaces lists - busting the myths By Great Place to Work ®",
                "startTime": "",
                "endTime": ""
            }, {
                "speechTitle": "Innovation in driving productivity By Dialog Axiata",
                "startTime": "",
                "endTime": ""
            }, {
                "speechTitle": "Local Case Study : The Multi National Approach to creating a local Great Work Place By DHL",
                "startTime": "",
                "endTime": ""
            }, {
                "speechTitle": "Thought Leadership : The Great Workplace of the Future By Great Place to Work® India",
                "startTime": "",
                "endTime": ""
            }];
            Polymer({
                is: 'speaker-feedback',
                properties : {
                    agenda : Object,
                    speakers : Object
                },
                ready : function() {
                    var temp = this.route.path.split("/");
                    var id = temp[temp.length-1];
                    console.log("fb id " + id);

                    console.log(this);
                    console.log(this.$);
                },
                _getSpeechTitle(v) {
                    if(typeof this.agenda != 'undefined') {
                        if(typeof this.agenda.length === 'number') {
                            if(this.agenda.length > v) {
                                return this.agenda[v].speechTitle;
                            }
                        }
                    }

                },
                _getSpeakerNames(v) {
                    if(typeof this.agenda != 'undefined') {
                        if(typeof this.agenda.length === 'number') {
                            if(this.agenda.length > v) {
                                return this.agenda[v].speakers;
                            }
                        }
                    }

                }
            });
        })()
    </script>
</dom-module>